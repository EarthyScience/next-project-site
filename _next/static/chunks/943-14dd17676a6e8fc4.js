"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{913:(e,t,n)=>{e.exports=n(7900)},1369:(e,t,n)=>{e.exports=n(3146)},1816:(e,t,n)=>{e.exports=n(3321)},3146:(e,t)=>{function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<o(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else if(u<i&&0>o(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a,s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],f=[],d=1,p=null,h=3,m=!1,v=!1,b=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(f);null!==t;){if(null===t.callback)i(f);else if(t.startTime<=e)i(f),t.sortIndex=t.expirationTime,n(c,t);else break;t=r(f)}}function j(e){if(b=!1,x(e),!v)if(null!==r(c))v=!0,A();else{var t=r(f);null!==t&&T(j,t.startTime-e)}}var _=!1,E=-1,P=5,S=-1;function C(){return!(t.unstable_now()-S<P)}function O(){if(_){var e=t.unstable_now();S=e;var n=!0;try{e:{v=!1,b&&(b=!1,y(E),E=-1),m=!0;var o=h;try{t:{for(x(e),p=r(c);null!==p&&!(p.expirationTime>e&&C());){var s=p.callback;if("function"==typeof s){p.callback=null,h=p.priorityLevel;var l=s(p.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof l){p.callback=l,x(e),n=!0;break t}p===r(c)&&i(c),x(e)}else i(c);p=r(c)}if(null!==p)n=!0;else{var u=r(f);null!==u&&T(j,u.startTime-e),n=!1}}break e}finally{p=null,h=o,m=!1}}}finally{n?a():_=!1}}}if("function"==typeof w)a=function(){w(O)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,M=k.port2;k.port1.onmessage=O,a=function(){M.postMessage(null)}}else a=function(){g(O,0)};function A(){_||(_=!0,a())}function T(e,n){E=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,A())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=0x3fffffff;break;case 4:s=1e4;break;default:s=5e3}return s=o+s,e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s,sortIndex:-1},o>a?(e.sortIndex=o,n(f,e),null===r(c)&&e===r(f)&&(b?(y(E),E=-1):b=!0,T(j,o-a))):(e.sortIndex=s,n(c,e),v||m||(v=!0,A())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},3321:(e,t)=>{t.ConcurrentRoot=1,t.ContinuousEventPriority=8,t.DefaultEventPriority=32,t.DiscreteEventPriority=2},3451:(e,t,n)=>{var r=n(2847),i=n(913),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;var p=a(e,(f=u(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,i]))[0],f[1]);return l(function(){d.hasValue=!0,d.value=p},[p]),c(p),p}},5301:(e,t,n)=>{e.exports=n(9025)},5347:(e,t,n)=>{n.d(t,{Hl:()=>d});var r=n(6334),i=n(2847),o=n(6027);function a(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}let s=["x","y","top","bottom","left","right","width","height"],l=(e,t)=>s.every(n=>e[n]===t[n]);var u=n(6792),c=n(2311);function f({ref:e,children:t,fallback:n,resize:s,style:u,gl:f,events:d=r.f,eventSource:p,eventPrefix:h,shadows:m,linear:v,flat:b,legacy:g,orthographic:y,frameloop:w,dpr:x,performance:j,raycaster:_,camera:E,scene:P,onPointerMissed:S,onCreated:C,...O}){i.useMemo(()=>(0,r.e)(o),[]);let k=(0,r.u)(),[M,A]=function({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){var o,s,u;let c=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!c)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[f,d]=(0,i.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=(0,i.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:f,orientationHandler:null}),h=e?"number"==typeof e?e:e.scroll:null,m=e?"number"==typeof e?e:e.resize:null,v=(0,i.useRef)(!1);(0,i.useEffect)(()=>(v.current=!0,()=>void(v.current=!1)));let[b,g,y]=(0,i.useMemo)(()=>{let e=()=>{if(!p.current.element)return;let{left:e,top:t,width:n,height:i,bottom:o,right:a,x:s,y:u}=p.current.element.getBoundingClientRect(),c={left:e,top:t,width:n,height:i,bottom:o,right:a,x:s,y:u};p.current.element instanceof HTMLElement&&r&&(c.height=p.current.element.offsetHeight,c.width=p.current.element.offsetWidth),Object.freeze(c),v.current&&!l(p.current.lastBounds,c)&&d(p.current.lastBounds=c)};return[e,m?a(e,m):e,h?a(e,h):e]},[d,r,h,m]);function w(){p.current.scrollContainers&&(p.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",y,!0)),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null),p.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",p.current.orientationHandler))}function x(){p.current.element&&(p.current.resizeObserver=new c(y),p.current.resizeObserver.observe(p.current.element),t&&p.current.scrollContainers&&p.current.scrollContainers.forEach(e=>e.addEventListener("scroll",y,{capture:!0,passive:!0})),p.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",p.current.orientationHandler))}return o=y,s=!!t,(0,i.useEffect)(()=>{if(s)return window.addEventListener("scroll",o,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",o,!0)},[o,s]),u=g,(0,i.useEffect)(()=>(window.addEventListener("resize",u),()=>void window.removeEventListener("resize",u)),[u]),(0,i.useEffect)(()=>{w(),x()},[t,y,g]),(0,i.useEffect)(()=>w,[]),[e=>{e&&e!==p.current.element&&(w(),p.current.element=e,p.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:r,overflowX:i,overflowY:o}=window.getComputedStyle(t);return[r,i,o].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),x())},f,b]}({scroll:!0,debounce:{scroll:50,resize:0},...s}),T=i.useRef(null),I=i.useRef(null);i.useImperativeHandle(e,()=>T.current);let R=(0,r.a)(S),[L,z]=i.useState(!1),[D,N]=i.useState(!1);if(L)throw L;if(D)throw D;let q=i.useRef(null);(0,r.b)(()=>{let e=T.current;A.width>0&&A.height>0&&e&&(q.current||(q.current=(0,r.c)(e)),async function(){await q.current.configure({gl:f,scene:P,events:d,shadows:m,linear:v,flat:b,legacy:g,orthographic:y,frameloop:w,dpr:x,performance:j,raycaster:_,camera:E,size:A,onPointerMissed:(...e)=>null==R.current?void 0:R.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(p?(0,r.i)(p)?p.current:p:I.current),h&&e.setEvents({compute:(e,t)=>{let n=e[h+"X"],r=e[h+"Y"];t.pointer.set(n/t.size.width*2-1,-(2*(r/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==C||C(e)}}),q.current.render((0,c.jsx)(k,{children:(0,c.jsx)(r.E,{set:N,children:(0,c.jsx)(i.Suspense,{fallback:(0,c.jsx)(r.B,{set:z}),children:null!=t?t:null})})}))}())}),i.useEffect(()=>{let e=T.current;if(e)return()=>(0,r.d)(e)},[]);let F=p?"none":"auto";return(0,c.jsx)("div",{ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:F,...u},...O,children:(0,c.jsx)("div",{ref:M,style:{width:"100%",height:"100%"},children:(0,c.jsx)("canvas",{ref:T,style:{display:"block"},children:n})})})}function d(e){return(0,c.jsx)(u.Af,{children:(0,c.jsx)(f,{...e})})}n(1816),n(5301),n(1369)},6334:(e,t,n)=>{let r,i,o,a,s;n.d(t,{A:()=>ec,B:()=>q,C:()=>ef,E:()=>F,F:()=>em,a:()=>D,b:()=>z,c:()=>ez,d:()=>eN,e:()=>ex,f:()=>eG,i:()=>R,j:()=>eH,q:()=>ee,u:()=>N});var l=n(7028),u=n(6027),c=n(2847),f=n.t(c,2),d=n(1816),p=n(9907);let h=e=>{let t,n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,i,o);return o},m=e=>e?h(e):h,{useSyncExternalStoreWithSelector:v}=p,b=e=>e,g=(e,t)=>{let n=m(e),r=(e,r=t)=>(function(e,t=b,n){let r=v(e.subscribe,e.getState,e.getInitialState,t,n);return c.useDebugValue(r),r})(n,e,r);return Object.assign(r,n),r},y=(e,t)=>e?g(e,t):g;var w=n(5301),x=n.n(w),j=n(1369);let _=e=>"object"==typeof e&&"function"==typeof e.then,E=[];function P(e,t,n=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;let r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function S(e,t=null,n=!1,r={}){for(let i of(null===t&&(t=[e]),E))if(P(t,i.keys,i.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(i,"error"))throw i.error;if(Object.prototype.hasOwnProperty.call(i,"response"))return r.lifespan&&r.lifespan>0&&(i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(i.remove,r.lifespan)),i.response;if(!n)throw i.promise}let i={keys:t,equal:r.equal,remove:()=>{let e=E.indexOf(i);-1!==e&&E.splice(e,1)},promise:(_(e)?e:e(...t)).then(e=>{i.response=e,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(e=>i.error=e)};if(E.push(i),!n)throw i.promise}let C=(e,t,n)=>S(e,t,!1,n),O=(e,t,n)=>void S(e,t,!0,n),k=e=>{if(void 0===e||0===e.length)E.splice(0,E.length);else{let t=E.find(t=>P(e,t.keys,t.equal));t&&t.remove()}};var M=n(2311),A=n(6792);function T(e){let t=e.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}n(1247),f.act;let I=e=>e&&e.isOrthographicCamera,R=e=>e&&e.hasOwnProperty("current"),L=e=>null!=e&&("string"==typeof e||"number"==typeof e||e.isColor),z=((e,t)=>"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||(null==(t=window.navigator)?void 0:t.product)==="ReactNative"))()?c.useLayoutEffect:c.useEffect;function D(e){let t=c.useRef(e);return z(()=>void(t.current=e),[e]),t}function N(){let e=(0,A.u5)(),t=(0,A.y3)();return c.useMemo(()=>({children:n})=>{let r=(0,A.Nz)(e,!0,e=>e.type===c.StrictMode)?c.StrictMode:c.Fragment;return(0,M.jsx)(r,{children:(0,M.jsx)(t,{children:n})})},[e,t])}function q({set:e}){return z(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}let F=(e=>((e=class extends c.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),e))();function V(e){var t;let n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}function H(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()}let Y={obj:e=>e===Object(e)&&!Y.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,nul:e=>null===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){let o;if(typeof e!=typeof t||!!e!=!!t)return!1;if(Y.str(e)||Y.num(e)||Y.boo(e))return e===t;let a=Y.obj(e);if(a&&"reference"===r)return e===t;let s=Y.arr(e);if(s&&"reference"===n)return e===t;if((s||a)&&e===t)return!0;for(o in e)if(!(o in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(o in i?t:e)if(!Y.equ(e[o],t[o],{strict:i,objects:"reference"}))return!1}else for(o in i?t:e)if(e[o]!==t[o])return!1;if(Y.und(o)){if(s&&0===e.length&&0===t.length||a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}},U=["children","key","ref"];function $(e,t,n,r){let i=null==e?void 0:e.__r3f;return!i&&(i={root:t,type:n,parent:null,children:[],props:function(e){let t={};for(let n in e)U.includes(n)||(t[n]=e[n]);return t}(r),object:e,eventCount:0,handlers:{},isHidden:!1},e&&(e.__r3f=i)),i}function B(e,t){let n=e[t];if(!t.includes("-"))return{root:e,key:t,target:n};for(let i of(n=e,t.split("-"))){var r;t=i,e=n,n=null==(r=n)?void 0:r[t]}return{root:e,key:t,target:n}}let Z=/-\d+$/;function X(e,t){if(Y.str(t.props.attach)){if(Z.test(t.props.attach)){let n=t.props.attach.replace(Z,""),{root:r,key:i}=B(e.object,n);Array.isArray(r[i])||(r[i]=[])}let{root:n,key:r}=B(e.object,t.props.attach);t.previousAttach=n[r],n[r]=t.object}else Y.fun(t.props.attach)&&(t.previousAttach=t.props.attach(e.object,t.object))}function W(e,t){if(Y.str(t.props.attach)){let{root:n,key:r}=B(e.object,t.props.attach),i=t.previousAttach;void 0===i?delete n[r]:n[r]=i}else null==t.previousAttach||t.previousAttach(e.object,t.object);delete t.previousAttach}let Q=[...U,"args","dispose","attach","object","onUpdate","dispose"],K=new Map,G=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],J=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function ee(e,t){var n,r;let i=e.__r3f,o=i&&T(i).getState(),a=null==i?void 0:i.eventCount;for(let n in t){let a=t[n];if(Q.includes(n))continue;if(i&&J.test(n)){"function"==typeof a?i.handlers[n]=a:delete i.handlers[n],i.eventCount=Object.keys(i.handlers).length;continue}if(void 0===a)continue;let{root:s,key:u,target:c}=B(e,n);c instanceof l.zgK&&a instanceof l.zgK?c.mask=a.mask:c instanceof l.Q1f&&L(a)?c.set(a):null!==c&&"object"==typeof c&&"function"==typeof c.set&&"function"==typeof c.copy&&null!=a&&a.constructor&&c.constructor===a.constructor?c.copy(a):null!==c&&"object"==typeof c&&"function"==typeof c.set&&Array.isArray(a)?"function"==typeof c.fromArray?c.fromArray(a):c.set(...a):null!==c&&"object"==typeof c&&"function"==typeof c.set&&"number"==typeof a?"function"==typeof c.setScalar?c.setScalar(a):c.set(a):(s[u]=a,o&&!o.linear&&G.includes(u)&&null!=(r=s[u])&&r.isTexture&&s[u].format===l.GWd&&s[u].type===l.OUM&&(s[u].colorSpace=l.er$))}if(null!=i&&i.parent&&null!=o&&o.internal&&null!=(n=i.object)&&n.isObject3D&&a!==i.eventCount){let e=i.object,t=o.internal.interaction.indexOf(e);t>-1&&o.internal.interaction.splice(t,1),i.eventCount&&null!==e.raycast&&o.internal.interaction.push(e)}return i&&void 0===i.props.attach&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&et(i),e}function et(e){var t;if(!e.parent)return;null==e.props.onUpdate||e.props.onUpdate(e.object);let n=null==(t=e.root)||null==t.getState?void 0:t.getState();n&&0===n.internal.frames&&n.invalidate()}function en(e,t){e.manual||(I(e)?(e.left=-(t.width/2),e.right=t.width/2,e.top=t.height/2,e.bottom=-(t.height/2)):e.aspect=t.width/t.height,e.updateProjectionMatrix())}let er=e=>null==e?void 0:e.isObject3D;function ei(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function eo(e,t,n,r){let i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}let ea=e=>!!(null!=e&&e.render),es=c.createContext(null),el=(e,t)=>{let n=y((n,r)=>{let i,o=new l.Pq0,a=new l.Pq0,s=new l.Pq0;function u(e=r().camera,t=a,n=r().size){let{width:i,height:l,top:c,left:f}=n,d=i/l;t.isVector3?s.copy(t):s.set(...t);let p=e.getWorldPosition(o).distanceTo(s);if(I(e))return{width:i/e.zoom,height:l/e.zoom,top:c,left:f,factor:1,distance:p,aspect:d};{let t=2*Math.tan(e.fov*Math.PI/180/2)*p,n=i/l*t;return{width:n,height:t,top:c,left:f,factor:i/n,distance:p,aspect:d}}}let f=e=>n(t=>({performance:{...t.performance,current:e}})),d=new l.I9Y;return{set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(t=1)=>e(r(),t),advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new l.zD7,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=r();i&&clearTimeout(i),e.performance.current!==e.performance.min&&f(e.performance.min),i=setTimeout(()=>f(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:e=>n(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,i=0,o=0)=>{let s=r().camera,l={width:e,height:t,top:i,left:o};n(e=>({size:l,viewport:{...e.viewport,...u(s,a,l)}}))},setDpr:e=>n(t=>{let n=V(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}}),setFrameloop:(e="always")=>{let t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:c.createRef(),active:!1,frames:0,priority:0,subscribe:(e,t,n)=>{let i=r().internal;return i.priority=i.priority+ +(t>0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}}}),r=n.getState(),i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{let{camera:e,size:t,viewport:r,gl:s,set:l}=n.getState();if(t.width!==i.width||t.height!==i.height||r.dpr!==o){i=t,o=r.dpr,en(e,t),r.dpr>0&&s.setPixelRatio(r.dpr);let n="undefined"!=typeof HTMLCanvasElement&&s.domElement instanceof HTMLCanvasElement;s.setSize(t.width,t.height,n)}e!==a&&(a=e,l(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),n.subscribe(t=>e(t)),n};function eu(){let e=c.useContext(es);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}function ec(e=e=>e,t){return eu()(e,t)}function ef(e,t=0){let n=eu(),r=n.getState().internal.subscribe,i=D(e);return z(()=>r(i,t,n),[t,r,n]),null}let ed=new WeakMap,ep=e=>{var t;return"function"==typeof e&&(null==e||null==(t=e.prototype)?void 0:t.constructor)===e};function eh(e,t){return function(n,...r){let i;return ep(n)?(i=ed.get(n))||(i=new n,ed.set(n,i)):i=n,e&&e(i),Promise.all(r.map(e=>new Promise((n,r)=>i.load(e,e=>{er(null==e?void 0:e.scene)&&Object.assign(e,function(e){let t={nodes:{},materials:{},meshes:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}(e.scene)),n(e)},t,t=>r(Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))}}function em(e,t,n,r){let i=Array.isArray(t)?t:[t],o=C(eh(n,r),[e,...i],{equal:Y.equ});return Array.isArray(t)?o:o[0]}em.preload=function(e,t,n){let r=Array.isArray(t)?t:[t];return O(eh(n),[e,...r])},em.clear=function(e,t){return k([e,...Array.isArray(t)?t:[t]])};let ev={},eb=/^three(?=[A-Z])/,eg=e=>`${e[0].toUpperCase()}${e.slice(1)}`,ey=0,ew=e=>"function"==typeof e;function ex(e){if(ew(e)){let t=`${ey++}`;return ev[t]=e,t}Object.assign(ev,e)}function ej(e,t){let n=eg(e),r=ev[n];if("primitive"!==e&&!r)throw Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if("primitive"===e&&!t.object)throw Error("R3F: Primitives without 'object' are invalid!");if(void 0!==t.args&&!Array.isArray(t.args))throw Error("R3F: The args prop must be an array!")}function e_(e){if(e.isHidden){var t;e.props.attach&&null!=(t=e.parent)&&t.object?X(e.parent,e):er(e.object)&&!1!==e.props.visible&&(e.object.visible=!0),e.isHidden=!1,et(e)}}function eE(e,t,n){let r=t.root.getState();if(e.parent||e.object===r.scene){if(!t.object){var i,o;let e=ev[eg(t.type)];t.object=null!=(i=t.props.object)?i:new e(...null!=(o=t.props.args)?o:[]),t.object.__r3f=t}if(ee(t.object,t.props),t.props.attach)X(e,t);else if(er(t.object)&&er(e.object)){let r=e.object.children.indexOf(null==n?void 0:n.object);if(n&&-1!==r){let n=e.object.children.indexOf(t.object);-1!==n?(e.object.children.splice(n,1),e.object.children.splice(n<r?r-1:r,0,t.object)):(t.object.parent=e.object,e.object.children.splice(r,0,t.object),t.object.dispatchEvent({type:"added"}),e.object.dispatchEvent({type:"childadded",child:t.object}))}else e.object.add(t.object)}for(let e of t.children)eE(t,e);et(t)}}function eP(e,t){t&&(t.parent=e,e.children.push(t),eE(e,t))}function eS(e,t,n){if(!t||!n)return;t.parent=e;let r=e.children.indexOf(n);-1!==r?e.children.splice(r,0,t):e.children.push(t),eE(e,t,n)}function eC(e){if("function"==typeof e.dispose){let t=()=>{try{e.dispose()}catch{}};"undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?t():(0,j.unstable_scheduleCallback)(j.unstable_IdlePriority,t)}}function eO(e,t,n){if(!t)return;t.parent=null;let r=e.children.indexOf(t);-1!==r&&e.children.splice(r,1),t.props.attach?W(e,t):er(t.object)&&er(e.object)&&(e.object.remove(t.object),function(e,t){let{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{(e.eventObject===t||e.object===t)&&n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{eo(n.capturedMap,t,e,r)})}(T(t),t.object));let i=null!==t.props.dispose&&!1!==n;for(let e=t.children.length-1;e>=0;e--){let n=t.children[e];eO(t,n,i)}t.children.length=0,delete t.object.__r3f,i&&"primitive"!==t.type&&"Scene"!==t.object.type&&eC(t.object),void 0===n&&et(t)}let ek=[],eM=()=>{},eA={},eT=0,eI=function(e){let t=x()(e);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:c.version}),t}({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(e,t,n){var r;return ej(e=eg(e)in ev?e:e.replace(eb,""),t),"primitive"===e&&null!=(r=t.object)&&r.__r3f&&delete t.object.__r3f,$(t.object,n,e,t)},removeChild:eO,appendChild:eP,appendInitialChild:eP,insertBefore:eS,appendChildToContainer(e,t){let n=e.getState().scene.__r3f;t&&n&&eP(n,t)},removeChildFromContainer(e,t){let n=e.getState().scene.__r3f;t&&n&&eO(n,t)},insertInContainerBefore(e,t,n){let r=e.getState().scene.__r3f;t&&n&&r&&eS(r,t,n)},getRootHostContext:()=>eA,getChildHostContext:()=>eA,commitUpdate(e,t,n,r,i){var o,a,s;ej(t,r);let l=!1;if("primitive"===e.type&&n.object!==r.object||(null==(o=r.args)?void 0:o.length)!==(null==(a=n.args)?void 0:a.length)?l=!0:null!=(s=r.args)&&s.some((e,t)=>{var r;return e!==(null==(r=n.args)?void 0:r[t])})&&(l=!0),l)ek.push([e,{...r},i]);else{let t=function(e,t){let n={};for(let r in t)if(!Q.includes(r)&&!Y.equ(t[r],e.props[r]))for(let e in n[r]=t[r],t)e.startsWith(`${r}-`)&&(n[e]=t[e]);for(let r in e.props){if(Q.includes(r)||t.hasOwnProperty(r))continue;let{root:i,key:o}=B(e.object,r);if(i.constructor&&0===i.constructor.length){let e=function(e){let t=K.get(e.constructor);try{t||(t=new e.constructor,K.set(e.constructor,t))}catch(e){}return t}(i);Y.und(e)||(n[o]=e[o])}else n[o]=0}return n}(e,r);Object.keys(t).length&&(Object.assign(e.props,t),ee(e.object,t))}(null===i.sibling||(4&i.flags)==0)&&function(){for(let[e]of ek){let t=e.parent;if(t)for(let n of(e.props.attach?W(t,e):er(e.object)&&er(t.object)&&t.object.remove(e.object),e.children))n.props.attach?W(e,n):er(n.object)&&er(e.object)&&e.object.remove(n.object);e.isHidden&&e_(e),e.object.__r3f&&delete e.object.__r3f,"primitive"!==e.type&&eC(e.object)}for(let[r,i,o]of ek){r.props=i;let a=r.parent;if(a){let i=ev[eg(r.type)];r.object=null!=(e=r.props.object)?e:new i(...null!=(t=r.props.args)?t:[]),r.object.__r3f=r;var e,t,n=r.object;for(let e of[o,o.alternate])if(null!==e)if("function"==typeof e.ref){null==e.refCleanup||e.refCleanup();let t=e.ref(n);"function"==typeof t&&(e.refCleanup=t)}else e.ref&&(e.ref.current=n);for(let e of(ee(r.object,r.props),r.props.attach?X(a,r):er(r.object)&&er(a.object)&&a.object.add(r.object),r.children))e.props.attach?X(r,e):er(e.object)&&er(r.object)&&r.object.add(e.object);et(r)}}ek.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:e=>null==e?void 0:e.object,prepareForCommit:()=>null,preparePortalMount:e=>$(e.getState().scene,e,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(e){if(!e.isHidden){var t;e.props.attach&&null!=(t=e.parent)&&t.object?W(e.parent,e):er(e.object)&&(e.object.visible=!1),e.isHidden=!0,et(e)}},unhideInstance:e_,createTextInstance:eM,hideTextInstance:eM,unhideTextInstance:eM,scheduleTimeout:"function"==typeof setTimeout?setTimeout:void 0,cancelTimeout:"function"==typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:c.createContext(null),setCurrentUpdatePriority(e){eT=e},getCurrentUpdatePriority:()=>eT,resolveUpdatePriority(){var e;if(0!==eT)return eT;switch("undefined"!=typeof window&&(null==(e=window.event)?void 0:e.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return d.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return d.ContinuousEventPriority;default:return d.DefaultEventPriority}},resetFormInstance(){}}),eR=new Map,eL={objects:"shallow",strict:!1};function ez(e){let t,n,r=eR.get(e),i=null==r?void 0:r.fiber,o=null==r?void 0:r.store;r&&console.warn("R3F.createRoot should only be called once!");let a="function"==typeof reportError?reportError:console.error,s=o||el(eW,eQ),c=i||eI.createContainer(s,d.ConcurrentRoot,null,!1,null,"",a,a,a,null);r||eR.set(e,{fiber:c,store:s});let f=!1,p=null;return{async configure(r={}){var i,o;let a;p=new Promise(e=>a=e);let{gl:c,size:d,scene:h,events:m,onCreated:v,shadows:b=!1,linear:g=!1,flat:y=!1,legacy:w=!1,orthographic:x=!1,frameloop:j="always",dpr:_=[1,2],performance:E,raycaster:P,camera:S,onPointerMissed:C}=r,O=s.getState(),k=O.gl;if(!O.gl){let t={canvas:e,powerPreference:"high-performance",antialias:!0,alpha:!0},n="function"==typeof c?await c(t):c;k=ea(n)?n:new u.WebGLRenderer({...t,...c}),O.set({gl:k})}let M=O.raycaster;M||O.set({raycaster:M=new l.tBo});let{params:A,...T}=P||{};if(Y.equ(T,M,eL)||ee(M,{...T}),Y.equ(A,M.params,eL)||ee(M,{params:{...M.params,...A}}),!O.camera||O.camera===n&&!Y.equ(n,S,eL)){n=S;let e=null==S?void 0:S.isCamera,t=e?S:x?new l.qUd(0,0,0,0,.1,1e3):new l.ubm(75,0,.1,1e3);!e&&(t.position.z=5,S&&(ee(t,S),!t.manual&&("aspect"in S||"left"in S||"right"in S||"bottom"in S||"top"in S)&&(t.manual=!0,t.updateProjectionMatrix())),O.camera||null!=S&&S.rotation||t.lookAt(0,0,0)),O.set({camera:t}),M.camera=t}if(!O.scene){let e;null!=h&&h.isScene?$(e=h,s,"",{}):($(e=new l.Z58,s,"",{}),h&&ee(e,h)),O.set({scene:e})}m&&!O.events.handlers&&O.set({events:m(s)});let I=function(e,t){if(!t&&"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:n,top:r,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:i}}return!t&&"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0,...t}}(e,d);if(Y.equ(I,O.size,eL)||O.setSize(I.width,I.height,I.top,I.left),_&&O.viewport.dpr!==V(_)&&O.setDpr(_),O.frameloop!==j&&O.setFrameloop(j),O.onPointerMissed||O.set({onPointerMissed:C}),E&&!Y.equ(E,O.performance,eL)&&O.set(e=>({performance:{...e.performance,...E}})),!O.xr){let e=(e,t)=>{let n=s.getState();"never"!==n.frameloop&&eQ(e,!0,n,t)},t=()=>{let t=s.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||eW(t)},n={connect(){let e=s.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=s.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(i=k.xr)?void 0:i.addEventListener)&&n.connect(),O.set({xr:n})}if(k.shadowMap){let e=k.shadowMap.enabled,t=k.shadowMap.type;if(k.shadowMap.enabled=!!b,Y.boo(b))k.shadowMap.type=l.Wk7;else if(Y.str(b)){let e={basic:l.bTm,percentage:l.QP0,soft:l.Wk7,variance:l.RyA};k.shadowMap.type=null!=(o=e[b])?o:l.Wk7}else Y.obj(b)&&Object.assign(k.shadowMap,b);(e!==k.shadowMap.enabled||t!==k.shadowMap.type)&&(k.shadowMap.needsUpdate=!0)}return l.ppV.enabled=!w,f||(k.outputColorSpace=g?l.Zr2:l.er$,k.toneMapping=y?l.y_p:l.FV),O.legacy!==w&&O.set(()=>({legacy:w})),O.linear!==g&&O.set(()=>({linear:g})),O.flat!==y&&O.set(()=>({flat:y})),!c||Y.fun(c)||ea(c)||Y.equ(c,k,eL)||ee(k,c),t=v,f=!0,a(),this},render(n){return f||p||this.configure(),p.then(()=>{eI.updateContainer((0,M.jsx)(eD,{store:s,children:n,onCreated:t,rootElement:e}),c,null,()=>void 0)}),s},unmount(){eN(e)}}}function eD({store:e,children:t,onCreated:n,rootElement:r}){return z(()=>{let t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)},[]),(0,M.jsx)(es.Provider,{value:e,children:t})}function eN(e,t){let n=eR.get(e),r=null==n?void 0:n.fiber;if(r){let i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),eI.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(o=i.gl)||null==o.forceContextLoss||o.forceContextLoss(),null!=(a=i.gl)&&a.xr&&i.xr.disconnect();var n,r,o,a,s=i.scene;for(let e in"Scene"!==s.type&&(null==s.dispose||s.dispose()),s){let t=s[e];(null==t?void 0:t.type)!=="Scene"&&(null==t||null==t.dispose||t.dispose())}eR.delete(e),t&&t(e)}catch(e){}},500)})}}let eq=new Set,eF=new Set,eV=new Set,eH=e=>(function(e,t){let n={callback:e};return t.add(n),()=>void t.delete(n)})(e,eq);function eY(e,t){if(e.size)for(let{callback:n}of e.values())n(t)}function eU(e,t){switch(e){case"before":return eY(eq,t);case"after":return eY(eF,t);case"tail":return eY(eV,t)}}function e$(e,t,n){let o=t.clock.getDelta();"never"===t.frameloop&&"number"==typeof e&&(o=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),r=t.internal.subscribers;for(let e=0;e<r.length;e++)(i=r[e]).ref.current(i.store.getState(),o,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}let eB=!1,eZ=!1;function eX(e){for(let n of(a=requestAnimationFrame(eX),eB=!0,o=0,eU("before",e),eZ=!0,eR.values())){var t;(s=n.store.getState()).internal.active&&("always"===s.frameloop||s.internal.frames>0)&&!(null!=(t=s.gl.xr)&&t.isPresenting)&&(o+=e$(e,s))}if(eZ=!1,eU("after",e),0===o)return eU("tail",e),eB=!1,cancelAnimationFrame(a)}function eW(e,t=1){var n;if(!e)return eR.forEach(e=>eW(e.store.getState(),t));(null==(n=e.gl.xr)||!n.isPresenting)&&e.internal.active&&"never"!==e.frameloop&&(t>1?e.internal.frames=Math.min(60,e.internal.frames+t):eZ?e.internal.frames=2:e.internal.frames=1,eB||(eB=!0,requestAnimationFrame(eX)))}function eQ(e,t=!0,n,r){if(t&&eU("before",e),n)e$(e,n,r);else for(let t of eR.values())e$(e,t.store.getState());t&&eU("after",e)}let eK={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function eG(e){let{handlePointer:t}=function(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){let{internal:n}=e.getState();for(let e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let r=e.eventObject.__r3f;if(n.hovered.delete(ei(e)),null!=r&&r.eventCount){let n=r.handlers,i={...e,intersections:t};null==n.onPointerOut||n.onPointerOut(i),null==n.onPointerLeave||n.onPointerLeave(i)}}}function r(e,t){for(let n=0;n<t.length;n++){let r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{let{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))})}}return function(o){let{onPointerMissed:a,internal:s}=e.getState();s.lastEvent.current=o;let u="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,f=function(t,n){let r=e.getState(),i=new Set,o=[],a=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<a.length;e++){let t=H(a[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=a.flatMap(function(e){let n=H(e);if(!n||!n.events.enabled||null===n.raycaster.camera)return[];if(void 0===n.raycaster.camera){var r;null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)}return n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]}).sort((e,t)=>{let n=H(e.object),r=H(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{let t=ei(e);return!i.has(t)&&(i.add(t),!0)});for(let e of(r.events.filter&&(s=r.events.filter(s,r)),s)){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&o.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(ei(e.intersection))||o.push(e.intersection);return o}(o,u?t:void 0),d=c?function(t){let{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(o):0;"onPointerDown"===i&&(s.initialClick=[o.offsetX,o.offsetY],s.initialHits=f.map(e=>e.eventObject)),c&&!f.length&&d<=2&&(r(o,s.interaction),a&&a(o)),u&&n(f),!function(e,t,r,i){if(e.length){let o={stopped:!1};for(let a of e){let s=H(a.object);if(s||a.object.traverseAncestors(e=>{let t=H(e);if(t)return s=t,!1}),s){let{raycaster:u,pointer:c,camera:f,internal:d}=s,p=new l.Pq0(c.x,c.y,0).unproject(f),h=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(a.eventObject))&&t},m=e=>{let n={intersection:a,target:t.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(a.eventObject,n):d.capturedMap.set(e,new Map([[a.eventObject,n]])),t.target.setPointerCapture(e)},v=e=>{let t=d.capturedMap.get(e);t&&eo(d.capturedMap,a.eventObject,t,e)},b={};for(let e in t){let n=t[e];"function"!=typeof n&&(b[e]=n)}let g={...a,...b,pointer:c,intersections:e,stopped:o.stopped,delta:r,unprojectedPoint:p,ray:u.ray,camera:f,stopPropagation(){let r="pointerId"in t&&d.capturedMap.get(t.pointerId);(!r||r.has(a.eventObject))&&(g.stopped=o.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(e=>e.eventObject===a.eventObject)&&n([...e.slice(0,e.indexOf(a)),a]))},target:{hasPointerCapture:h,setPointerCapture:m,releasePointerCapture:v},currentTarget:{hasPointerCapture:h,setPointerCapture:m,releasePointerCapture:v},nativeEvent:t};if(i(g),!0===o.stopped)break}}}}(f,o,d,function(e){let t=e.eventObject,n=t.__r3f;if(!(null!=n&&n.eventCount))return;let a=n.handlers;if(u){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){let t=ei(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==a.onPointerOver||a.onPointerOver(e),null==a.onPointerEnter||a.onPointerEnter(e))}null==a.onPointerMove||a.onPointerMove(e)}else{let n=a[i];n?(!c||s.initialHits.includes(t))&&(r(o,s.interaction.filter(e=>!s.initialHits.includes(e))),n(e)):c&&s.initialHits.includes(t)&&r(o,s.interaction.filter(e=>!s.initialHits.includes(e)))}})}}}}(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-(2*(e.offsetY/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(eK).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var t;let{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{let{set:n,events:r}=e.getState();if(null==r.disconnect||r.disconnect(),n(e=>({events:{...e.events,connected:t}})),r.handlers)for(let e in r.handlers){let n=r.handlers[e],[i,o]=eK[e];t.addEventListener(i,n,{passive:o})}},disconnect:()=>{let{set:t,events:n}=e.getState();if(n.connected){if(n.handlers)for(let e in n.handlers){let t=n.handlers[e],[r]=eK[e];n.connected.removeEventListener(r,t)}t(e=>({events:{...e.events,connected:void 0}}))}}}}},6792:(e,t,n)=>{n.d(t,{Af:()=>s,Nz:()=>i,u5:()=>l,y3:()=>f});var r=n(2847);function i(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){let e=i(r,t,n);if(e)return e;r=t?null:r.sibling}}function o(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}(()=>{var e,t;return"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||(null==(t=window.navigator)?void 0:t.product)==="ReactNative")})()?r.useLayoutEffect:r.useEffect;let a=o(r.createContext(null));class s extends r.Component{render(){return r.createElement(a.Provider,{value:this._reactInternals},this.props.children)}}function l(){let e=r.useContext(a);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=r.useId();return r.useMemo(()=>{for(let n of[e,null==e?void 0:e.alternate]){if(!n)continue;let e=i(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}let u=Symbol.for("react.context"),c=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===u;function f(){let e=function(){let e=l(),[t]=r.useState(()=>new Map);t.clear();let n=e;for(;n;){let e=n.type;c(e)&&e!==a&&!t.has(e)&&t.set(e,r.use(o(e))),n=n.return}return t}();return r.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>i=>r.createElement(t,null,r.createElement(n.Provider,{...i,value:e.get(n)})),e=>r.createElement(s,{...e})),[e])}},7387:(e,t,n)=>{n.d(t,{CS:()=>no,zh:()=>t7});var r,i,o,a,s,l=n(6334),u=P(),c=e=>x(e,u),f=P();c.write=e=>x(e,f);var d=P();c.onStart=e=>x(e,d);var p=P();c.onFrame=e=>x(e,p);var h=P();c.onFinish=e=>x(e,h);var m=[];c.setTimeout=(e,t)=>{let n=c.now()+t,r=()=>{let e=m.findIndex(e=>e.cancel==r);~e&&m.splice(e,1),y-=!!~e},i={time:n,handler:e,cancel:r};return m.splice(v(n),0,i),y+=1,j(),i};var v=e=>~(~m.findIndex(t=>t.time>e)||~m.length);c.cancel=e=>{d.delete(e),p.delete(e),h.delete(e),u.delete(e),f.delete(e)},c.sync=e=>{w=!0,c.batchedUpdates(e),w=!1},c.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...e){t=e,c.onStart(n)}return r.handler=e,r.cancel=()=>{d.delete(n),t=null},r};var b="undefined"!=typeof window?window.requestAnimationFrame:()=>{};c.use=e=>b=e,c.now="undefined"!=typeof performance?()=>performance.now():Date.now,c.batchedUpdates=e=>e(),c.catch=console.error,c.frameLoop="always",c.advance=()=>{"demand"!==c.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):E()};var g=-1,y=0,w=!1;function x(e,t){w?(t.delete(e),e(0)):(t.add(e),j())}function j(){g<0&&(g=0,"demand"!==c.frameLoop&&b(_))}function _(){~g&&(b(_),c.batchedUpdates(E))}function E(){let e=g,t=v(g=c.now());if(t&&(S(m.splice(0,t),e=>e.handler()),y-=t),!y)return void(g=-1);d.flush(),u.flush(e?Math.min(64,g-e):16.667),p.flush(),f.flush(),h.flush()}function P(){let e=new Set,t=e;return{add(n){y+=+!(t!=e||e.has(n)),e.add(n)},delete:n=>(y-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,y-=t.size,S(t,t=>t(n)&&e.add(t)),y+=e.size,t=e)}}}function S(e,t){e.forEach(e=>{try{t(e)}catch(e){c.catch(e)}})}var C=n(2847),O=Object.defineProperty,k={};function M(){}((e,t)=>{for(var n in t)O(e,n,{get:t[n],enumerable:!0})})(k,{assign:()=>Y,colors:()=>F,createStringInterpolator:()=>r,skipAnimation:()=>V,to:()=>i,willAdvance:()=>H});var A=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),T={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function I(e,t){if(T.arr(e)){if(!T.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var R=(e,t)=>e.forEach(t);function L(e,t,n){if(T.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(let r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var z=e=>T.und(e)?[]:T.arr(e)?e:[e];function D(e,t){if(e.size){let n=Array.from(e);e.clear(),R(n,t)}}var N=(e,...t)=>D(e,e=>e(...t)),q=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),F=null,V=!1,H=M,Y=e=>{e.to&&(i=e.to),e.now&&(c.now=e.now),void 0!==e.colors&&(F=e.colors),null!=e.skipAnimation&&(V=e.skipAnimation),e.createStringInterpolator&&(r=e.createStringInterpolator),e.requestAnimationFrame&&c.use(e.requestAnimationFrame),e.batchedUpdates&&(c.batchedUpdates=e.batchedUpdates),e.willAdvance&&(H=e.willAdvance),e.frameLoop&&(c.frameLoop=e.frameLoop)},U=new Set,$=[],B=[],Z=0,X={get idle(){return!U.size&&!$.length},start(e){Z>e.priority?(U.add(e),c.onStart(W)):(Q(e),c(G))},advance:G,sort(e){if(Z)c.onFrame(()=>X.sort(e));else{let t=$.indexOf(e);~t&&($.splice(t,1),K(e))}},clear(){$=[],U.clear()}};function W(){U.forEach(Q),U.clear(),c(G)}function Q(e){$.includes(e)||K(e)}function K(e){$.splice(function(e,t){let n=e.findIndex(t);return n<0?e.length:n}($,t=>t.priority>e.priority),0,e)}function G(e){let t=B;for(let n=0;n<$.length;n++){let r=$[n];Z=r.priority,!r.idle&&(H(r),r.advance(e),r.idle||t.push(r))}return Z=0,(B=$).length=0,($=t).length>0}var J="[-+]?\\d*\\.?\\d+",ee=J+"%";function et(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var en=RegExp("rgb"+et(J,J,J)),er=RegExp("rgba"+et(J,J,J,J)),ei=RegExp("hsl"+et(J,ee,ee)),eo=RegExp("hsla"+et(J,ee,ee,J)),ea=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,es=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,el=/^#([0-9a-fA-F]{6})$/,eu=/^#([0-9a-fA-F]{8})$/;function ec(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ef(e,t,n){let r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=ec(i,r,e+1/3);return Math.round(255*o)<<24|Math.round(255*ec(i,r,e))<<16|Math.round(255*ec(i,r,e-1/3))<<8}function ed(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function ep(e){return(parseFloat(e)%360+360)%360/360}function eh(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function em(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function ev(e){let t,n="number"==typeof e?e>>>0===e&&e>=0&&e<=0xffffffff?e:null:(t=el.exec(e))?parseInt(t[1]+"ff",16)>>>0:F&&void 0!==F[e]?F[e]:(t=en.exec(e))?(ed(t[1])<<24|ed(t[2])<<16|ed(t[3])<<8|255)>>>0:(t=er.exec(e))?(ed(t[1])<<24|ed(t[2])<<16|ed(t[3])<<8|eh(t[4]))>>>0:(t=ea.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=eu.exec(e))?parseInt(t[1],16)>>>0:(t=es.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ei.exec(e))?(255|ef(ep(t[1]),em(t[2]),em(t[3])))>>>0:(t=eo.exec(e))?(ef(ep(t[1]),em(t[2]),em(t[3]))|eh(t[4]))>>>0:null;if(null===n)return e;let r=(0xff000000&(n=n||0))>>>24,i=(0xff0000&n)>>>16,o=(65280&n)>>>8,a=(255&n)/255;return`rgba(${r}, ${i}, ${o}, ${a})`}var eb=(e,t,n)=>{if(T.fun(e))return e;if(T.arr(e))return eb({range:e,output:t,extrapolate:n});if(T.str(e.output[0]))return r(e);let i=e.output,o=e.range||[0,1],a=e.extrapolateLeft||e.extrapolate||"extend",s=e.extrapolateRight||e.extrapolate||"extend",l=e.easing||(e=>e);return t=>{let n=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(t,o);return function(e,t,n,r,i,o,a,s,l){let u=l?l(e):e;if(u<t)if("identity"===a)return u;else"clamp"===a&&(u=t);if(u>n)if("identity"===s)return u;else"clamp"===s&&(u=n);return r===i?r:t===n?e<=t?r:i:(t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t),u=o(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r,u)}(t,o[n],o[n+1],i[n],i[n+1],l,a,s,e.map)}},eg=Symbol.for("FluidValue.get"),ey=Symbol.for("FluidValue.observers"),ew=e=>!!(e&&e[eg]),ex=e=>e&&e[eg]?e[eg]():e,ej=e=>e[ey]||null;function e_(e,t){let n=e[ey];n&&n.forEach(e=>{e.eventObserved?e.eventObserved(t):e(t)})}var eE=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");eP(this,e)}},eP=(e,t)=>eO(e,eg,t);function eS(e,t){if(e[eg]){let n=e[ey];n||eO(e,ey,n=new Set),!n.has(t)&&(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function eC(e,t){let n=e[ey];if(n&&n.has(t)){let r=n.size-1;r?n.delete(t):e[ey]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var eO=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),ek=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,eM=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,eA=RegExp(`(${ek.source})(%|[a-z]+)`,"i"),eT=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,eI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,eR=e=>{let[t,n]=eL(e);if(!t||q())return e;let r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(n);if(e)return e}else if(n&&eI.test(n))return eR(n);else if(n)return n;return e},eL=e=>{let t=eI.exec(e);if(!t)return[,];let[,n,r]=t;return[n,r]},ez=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,eD=e=>{o||(o=F?RegExp(`(${Object.keys(F).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(e=>ex(e).replace(eI,eR).replace(eM,ev).replace(o,ev)),n=t.map(e=>e.match(ek).map(Number)),r=n[0].map((e,t)=>n.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>eb({...e,output:t}));return e=>{let n=!eA.test(t[0])&&t.find(e=>eA.test(e))?.replace(ek,""),i=0;return t[0].replace(ek,()=>`${r[i++](e)}${n||""}`).replace(eT,ez)}},eN="react-spring: ",eq=e=>{let t=!1;if("function"!=typeof e)throw TypeError(`${eN}once requires a function parameter`);return(...n)=>{t||(e(...n),t=!0)}},eF=eq(console.warn),eV=eq(console.warn);function eH(e){return T.str(e)&&("#"==e[0]||/\d/.test(e)||!q()&&eI.test(e)||e in(F||{}))}var eY=new WeakMap,eU=e=>e.forEach(({target:e,contentRect:t})=>eY.get(e)?.forEach(e=>e(t))),e$=new Set,eB=()=>{let e=()=>{e$.forEach(e=>e({width:window.innerWidth,height:window.innerHeight}))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},eZ=e=>(e$.add(e),s||(s=eB()),()=>{e$.delete(e),!e$.size&&s&&(s(),s=void 0)}),eX=(e,t,n)=>t-e==0?1:(n-e)/(t-e),eW={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}},eQ=q()?C.useEffect:C.useLayoutEffect,eK=()=>{let e=(0,C.useRef)(!1);return eQ(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function eG(){let e=(0,C.useState)()[1],t=eK();return()=>{t.current&&e(Math.random())}}var eJ=e=>(0,C.useEffect)(e,e0),e0=[];function e1(e){let t=(0,C.useRef)(void 0);return(0,C.useEffect)(()=>{t.current=e}),t.current}var e2=Symbol.for("Animated:node"),e3=e=>!!e&&e[e2]===e,e5=e=>e&&e[e2],e9=(e,t)=>A(e,e2,t),e8=e=>e&&e[e2]&&e[e2].getPayload(),e6=class{constructor(){e9(this,this)}getPayload(){return this.payload||[]}},e4=class e extends e6{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,T.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new e(t)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return T.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,T.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},e7=class e extends e4{constructor(e){super(0),this._string=null,this._toString=eb({output:[e,e]})}static create(t){return new e(t)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(T.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=eb({output:[this.getValue(),e]})),this._value=0,super.reset()}},te={dependencies:null},tt=class extends e6{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return L(this.source,(n,r)=>{e3(n)?t[r]=n.getValue(e):ew(n)?t[r]=ex(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&R(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return L(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){te.dependencies&&ew(e)&&te.dependencies.add(e);let t=e8(e);t&&R(t,e=>this.add(e))}},tn=class e extends tt{constructor(e){super(e)}static create(t){return new e(t)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((t,n)=>t.setValue(e[n])).some(Boolean):(super.setValue(e.map(tr)),!0)}};function tr(e){return(eH(e)?e7:e4).create(e)}function ti(e){let t=e5(e);return t?t.constructor:T.arr(e)?tn:eH(e)?e7:e4}var to=(e,t)=>{let n=!T.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,C.forwardRef)((r,i)=>{let o=(0,C.useRef)(null),a=n&&(0,C.useCallback)(e=>{o.current=function(e,t){return e&&(T.fun(e)?e(t):e.current=t),t}(i,e)},[i]),[s,l]=function(e,t){let n=new Set;return te.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new tt(e),te.dependencies=null,[e,n]}(r,t),u=eG(),f=()=>{let e=o.current;(!n||e)&&!1===(!!e&&t.applyAnimatedValues(e,s.getValue(!0)))&&u()},d=new ta(f,l),p=(0,C.useRef)(void 0);eQ(()=>(p.current=d,R(l,e=>eS(e,d)),()=>{p.current&&(R(p.current.deps,e=>eC(e,p.current)),c.cancel(p.current.update))})),(0,C.useEffect)(f,[]),eJ(()=>()=>{let e=p.current;R(e.deps,t=>eC(t,e))});let h=t.getComponentProps(s.getValue());return C.createElement(e,{...h,ref:a})})},ta=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&c.write(this.update)}},ts=Symbol.for("AnimatedComponent"),tl=e=>T.str(e)?e:e&&T.str(e.displayName)?e.displayName:T.fun(e)&&e.name||null;function tu(e,...t){return T.fun(e)?e(...t):e}var tc=(e,t)=>!0===e||!!(t&&e&&(T.fun(e)?e(t):z(e).includes(t))),tf=(e,t)=>T.obj(e)?t&&e[t]:e,td=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,tp=e=>e,th=(e,t=tp)=>{let n=tm;e.default&&!0!==e.default&&(n=Object.keys(e=e.default));let r={};for(let i of n){let n=t(e[i],i);T.und(n)||(r[i]=n)}return r},tm=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tv={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function tb(e){let t=function(e){let t={},n=0;if(L(e,(e,r)=>{!tv[r]&&(t[r]=e,n++)}),n)return t}(e);if(t){let n={to:t};return L(e,(e,r)=>r in t||(n[r]=e)),n}return{...e}}function tg(e){return e=ex(e),T.arr(e)?e.map(tg):eH(e)?k.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function ty(e){return T.fun(e)||T.arr(e)&&T.obj(e[0])}var tw={tension:170,friction:26,mass:1,damping:1,easing:e=>e,clamp:!1},tx=class{constructor(){this.velocity=0,Object.assign(this,tw)}};function tj(e,t){if(T.und(t.decay)){let n=!T.und(t.tension)||!T.und(t.friction);!n&&T.und(t.frequency)&&T.und(t.damping)&&T.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var t_=[],tE=class{constructor(){this.changed=!1,this.values=t_,this.toValues=null,this.fromValues=t_,this.config=new tx,this.immediate=!1}};function tP(e,{key:t,props:n,defaultProps:r,state:i,actions:o}){return new Promise((a,s)=>{let l,u,f=tc(n.cancel??r?.cancel,t);if(f)h();else{T.und(n.pause)||(i.paused=tc(n.pause,t));let e=r?.pause;!0!==e&&(e=i.paused||tc(e,t)),l=tu(n.delay||0,t),e?(i.resumeQueue.add(p),o.pause()):(o.resume(),p())}function d(){i.resumeQueue.add(p),i.timeouts.delete(u),u.cancel(),l=u.time-c.now()}function p(){l>0&&!k.skipAnimation?(i.delayed=!0,u=c.setTimeout(h,l),i.pauseQueue.add(d),i.timeouts.add(u)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(u),e<=(i.cancelId||0)&&(f=!0);try{o.start({...n,callId:e,cancel:f},a)}catch(e){s(e)}}})}var tS=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?tk(e.get()):t.every(e=>e.noop)?tC(e.get()):tO(e.get(),t.every(e=>e.finished)),tC=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),tO=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),tk=e=>({value:e,cancelled:!0,finished:!1});function tM(e,t,n,r){let{callId:i,parentId:o,onRest:a}=t,{asyncTo:s,promise:l}=n;return o||e!==s||t.reset?n.promise=(async()=>{let u,f,d;n.asyncId=i,n.asyncTo=e;let p=th(t,(e,t)=>"onRest"===t?void 0:e),h=new Promise((e,t)=>(u=e,f=t)),m=e=>{let t=i<=(n.cancelId||0)&&tk(r)||i!==n.asyncId&&tO(r,!1);if(t)throw e.result=t,f(e),e},v=(e,t)=>{let o=new tT,a=new tI;return(async()=>{if(k.skipAnimation)throw tA(n),a.result=tO(r,!1),f(a),a;m(o);let s=T.obj(e)?{...e}:{...t,to:e};s.parentId=i,L(p,(e,t)=>{T.und(s[t])&&(s[t]=e)});let l=await r.start(s);return m(o),n.paused&&await new Promise(e=>{n.resumeQueue.add(e)}),l})()};if(k.skipAnimation)return tA(n),tO(r,!1);try{let t;t=T.arr(e)?(async e=>{for(let t of e)await v(t)})(e):Promise.resolve(e(v,r.stop.bind(r))),await Promise.all([t.then(u),h]),d=tO(r.get(),!0,!1)}catch(e){if(e instanceof tT)d=e.result;else if(e instanceof tI)d=e.result;else throw e}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?l:void 0)}return T.fun(a)&&c.batchedUpdates(()=>{a(d,r,r.item)}),d})():l}function tA(e,t){D(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var tT=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},tI=class extends Error{constructor(){super("SkipAnimationSignal")}},tR=e=>e instanceof tz,tL=1,tz=class extends eE{constructor(){super(...arguments),this.id=tL++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=e5(this);return e&&e.getValue()}to(...e){return k.to(this,e)}interpolate(...e){return eF(`${eN}The "interpolate" function is deprecated in v9 (use "to" instead)`),k.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){e_(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||X.sort(this),e_(this,{type:"priority",parent:this,priority:e})}},tD=Symbol.for("SpringPhase"),tN=e=>(1&e[tD])>0,tq=e=>(2&e[tD])>0,tF=e=>(4&e[tD])>0,tV=(e,t)=>t?e[tD]|=3:e[tD]&=-3,tH=(e,t)=>t?e[tD]|=4:e[tD]&=-5,tY=class extends tz{constructor(e,t){if(super(),this.animation=new tE,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!T.und(e)||!T.und(t)){let n=T.obj(e)?{...e}:{...t,from:e};T.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(tq(this)||this._state.asyncTo)||tF(this)}get goal(){return ex(this.animation.to)}get velocity(){let e=e5(this);return e instanceof e4?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return tN(this)}get isAnimating(){return tq(this)}get isPaused(){return tF(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1,r=this.animation,{toValues:i}=r,{config:o}=r,a=e8(r.to);!a&&ew(r.to)&&(i=z(ex(r.to))),r.values.forEach((s,l)=>{if(s.done)return;let u=s.constructor==e7?1:a?a[l].lastPosition:i[l],c=r.immediate,f=u;if(!c){let t;if(f=s.lastPosition,o.tension<=0){s.done=!0;return}let n=s.elapsedTime+=e,i=r.fromValues[l],a=null!=s.v0?s.v0:s.v0=T.arr(o.velocity)?o.velocity[l]:o.velocity,d=o.precision||(i==u?.005:Math.min(1,.001*Math.abs(u-i)));if(T.und(o.duration))if(o.decay){let e=!0===o.decay?.998:o.decay,r=Math.exp(-(1-e)*n);f=i+a/(1-e)*(1-r),c=Math.abs(s.lastPosition-f)<=d,t=a*r}else{t=null==s.lastVelocity?a:s.lastVelocity;let n=o.restVelocity||d/10,r=o.clamp?0:o.bounce,l=!T.und(r),p=i==u?s.v0>0:i<u,h=!1,m=Math.ceil(e/1);for(let e=0;e<m&&!(!(Math.abs(t)>n)&&(c=Math.abs(u-f)<=d));++e){l&&(f==u||f>u==p)&&(t=-t*r,f=u);let e=(-(1e-6*o.tension)*(f-u)+-(.001*o.friction)*t)/o.mass;t+=+e,f+=+t}}else{let r=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,s.durationProgress>0&&(s.elapsedTime=o.duration*s.durationProgress,n=s.elapsedTime+=e)),s.durationProgress=r=(r=(o.progress||0)+n/this._memoizedDuration)>1?1:r<0?0:r),t=((f=i+o.easing(r)*(u-i))-s.lastPosition)/e,c=1==r}s.lastVelocity=t,Number.isNaN(f)&&(console.warn("Got NaN while animating:",this),c=!0)}a&&!a[l].done&&(c=!1),c?s.done=!0:t=!1,s.setValue(f,o.round)&&(n=!0)});let s=e5(this),l=s.getValue();if(t){let e=ex(r.to);(l!==e||n)&&!o.decay?(s.setValue(e),this._onChange(e)):n&&o.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(e){return c.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(tq(this)){let{to:e,config:t}=this.animation;c.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return T.und(e)?(n=this.queue||[],this.queue=[]):n=[T.obj(e)?e:{...t,to:e}],Promise.all(n.map(e=>this._update(e))).then(e=>tS(this,e))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),tA(this._state,e&&this._lastCallId),c.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:n,from:r}=e;(null==(n=T.obj(n)?n[t]:n)||ty(n))&&(n=void 0),null==(r=T.obj(r)?r[t]:r)&&(r=void 0);let i={to:n,from:r};return!tN(this)&&(e.reverse&&([n,r]=[r,n]),r=ex(r),T.und(r)?e5(this)||this._set(n):this._set(r)),i}_update({...e},t){let{key:n,defaultProps:r}=this;e.default&&Object.assign(r,th(e,(e,t)=>/^on/.test(t)?tf(e,n):e)),tW(this,e,"onProps"),tQ(this,"onProps",e,this);let i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return tP(++this._lastCallId,{key:n,props:e,defaultProps:r,state:o,actions:{pause:()=>{tF(this)||(tH(this,!0),N(o.pauseQueue),tQ(this,"onPause",tO(this,tU(this,this.animation.to)),this))},resume:()=>{tF(this)&&(tH(this,!1),tq(this)&&this._resume(),N(o.resumeQueue),tQ(this,"onResume",tO(this,tU(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(n=>{if(e.loop&&n.finished&&!(t&&n.noop)){let t=t$(e);if(t)return this._update(t,!0)}return n})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(tk(this));let r=!T.und(e.to),i=!T.und(e.from);if(r||i)if(!(t.callId>this._lastToId))return n(tk(this));else this._lastToId=t.callId;let{key:o,defaultProps:a,animation:s}=this,{to:l,from:u}=s,{to:f=l,from:d=u}=e;i&&!r&&(!t.default||T.und(f))&&(f=d),t.reverse&&([f,d]=[d,f]);let p=!I(d,u);p&&(s.from=d),d=ex(d);let h=!I(f,l);h&&this._focus(f);let m=ty(t.to),{config:v}=s,{decay:b,velocity:g}=v;(r||i)&&(v.velocity=0),t.config&&!m&&function(e,t,n){for(let r in n&&(tj(n={...n},t),t={...n,...t}),tj(e,t),Object.assign(e,t),tw)null==e[r]&&(e[r]=tw[r]);let{frequency:r,damping:i}=e,{mass:o}=e;T.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*o,e.friction=4*Math.PI*i*o/r)}(v,tu(t.config,o),t.config!==a.config?tu(a.config,o):void 0);let y=e5(this);if(!y||T.und(f))return n(tO(this,!0));let w=T.und(t.reset)?i&&!t.default:!T.und(d)&&tc(t.reset,o),x=w?d:this.get(),j=tg(f),_=T.num(j)||T.arr(j)||eH(j),E=!m&&(!_||tc(a.immediate||t.immediate,o));if(h){let e=ti(f);if(e!==y.constructor)if(E)y=this._set(j);else throw Error(`Cannot animate between ${y.constructor.name} and ${e.name}, as the "to" prop suggests`)}let P=y.constructor,S=ew(f),C=!1;if(!S){let e=w||!tN(this)&&p;(h||e)&&(S=!(C=I(tg(x),j))),(I(s.immediate,E)||E)&&I(v.decay,b)&&I(v.velocity,g)||(S=!0)}if(C&&tq(this)&&(s.changed&&!w?S=!0:S||this._stop(l)),!m&&((S||ew(l))&&(s.values=y.getPayload(),s.toValues=ew(f)?null:P==e7?[1]:z(j)),s.immediate!=E&&(s.immediate=E,E||w||this._set(l)),S)){let{onRest:e}=s;R(tX,e=>tW(this,t,e));let r=tO(this,tU(this,l));N(this._pendingCalls,r),this._pendingCalls.add(n),s.changed&&c.batchedUpdates(()=>{s.changed=!w,e?.(r,this),w?tu(a.onRest,r):s.onStart?.(r,this)})}w&&this._set(x),m?n(tM(t.to,t,this._state,this)):S?this._start():tq(this)&&!h?this._pendingCalls.add(n):n(tC(x))}_focus(e){let t=this.animation;e!==t.to&&(ej(this)&&this._detach(),t.to=e,ej(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;ew(t)&&(eS(t,this),tR(t)&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;ew(e)&&eC(e,this)}_set(e,t=!0){let n=ex(e);if(!T.und(n)){let e=e5(this);if(!e||!I(n,e.getValue())){let r=ti(n);e&&e.constructor==r?e.setValue(n):e9(this,r.create(n)),e&&c.batchedUpdates(()=>{this._onChange(n,t)})}}return e5(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,tQ(this,"onStart",tO(this,tU(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),tu(this.animation.onChange,e,this)),tu(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;e5(this).reset(ex(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),!tq(this)&&(tV(this,!0),tF(this)||this._resume())}_resume(){k.skipAnimation?this.finish():X.start(this)}_stop(e,t){if(tq(this)){tV(this,!1);let n=this.animation;R(n.values,e=>{e.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),e_(this,{type:"idle",parent:this});let r=t?tk(this.get()):tO(this.get(),tU(this,e??n.to));N(this._pendingCalls,r),n.changed&&(n.changed=!1,tQ(this,"onRest",r,this))}}};function tU(e,t){let n=tg(t);return I(tg(e.get()),n)}function t$(e,t=e.loop,n=e.to){let r=tu(t);if(r){let i=!0!==r&&tb(r),o=(i||e).reverse,a=!i||i.reset;return tB({...e,loop:t,default:!1,pause:void 0,to:!o||ty(n)?n:void 0,from:a?e.from:void 0,reset:a,...i})}}function tB(e){let{to:t,from:n}=e=tb(e),r=new Set;return T.obj(t)&&tZ(t,r),T.obj(n)&&tZ(n,r),e.keys=r.size?Array.from(r):null,e}function tZ(e,t){L(e,(e,n)=>null!=e&&t.add(n))}var tX=["onStart","onRest","onChange","onPause","onResume"];function tW(e,t,n){e.animation[n]=t[n]!==td(t,n)?tf(t[n],e.key):void 0}function tQ(e,t,...n){e.animation[t]?.(...n),e.defaultProps[t]?.(...n)}var tK=["onStart","onChange","onRest"],tG=1,tJ=class{constructor(e,t){this.id=tG++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(let t in e){let n=e[t];T.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(tB(e)),this}start(e){let{queue:t}=this;return(e?t=z(e).map(tB):this.queue=[],this._flush)?this._flush(this,t):(t8(this,t),t0(this,t))}stop(e,t){if(!!e!==e&&(t=e),t){let n=this.springs;R(z(t),t=>n[t].stop(!!e))}else tA(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(T.und(e))this.start({pause:!0});else{let t=this.springs;R(z(e),e=>t[e].pause())}return this}resume(e){if(T.und(e))this.start({pause:!1});else{let t=this.springs;R(z(e),e=>t[e].resume())}return this}each(e){L(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,D(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));let o=!r&&this._started,a=i||o&&n.size?this.get():null;i&&t.size&&D(t,([e,t])=>{t.value=a,e(t,this,this._item)}),o&&(this._started=!1,D(n,([e,t])=>{t.value=a,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}c.onFrame(this._onFrame)}};function t0(e,t){return Promise.all(t.map(t=>t1(e,t))).then(t=>tS(e,t))}async function t1(e,t,n){let{keys:r,to:i,from:o,loop:a,onRest:s,onResolve:l}=t,u=T.obj(t.default)&&t.default;a&&(t.loop=!1),!1===i&&(t.to=null),!1===o&&(t.from=null);let f=T.arr(i)||T.fun(i)?i:void 0;f?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):R(tK,n=>{let r=t[n];if(T.fun(r)){let i=e._events[n];t[n]=({finished:e,cancelled:t})=>{let n=i.get(r);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):i.set(r,{value:null,finished:e||!1,cancelled:t||!1})},u&&(u[n]=t[n])}});let d=e._state;!d.paused===t.pause?(d.paused=t.pause,N(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);let p=(r||Object.keys(e.springs)).map(n=>e.springs[n].start(t)),h=!0===t.cancel||!0===td(t,"cancel");(f||h&&d.asyncId)&&p.push(tP(++e._lastAsyncId,{props:t,state:d,actions:{pause:M,resume:M,start(t,n){h?(tA(d,e._lastAsyncId),n(tk(e))):(t.onRest=s,n(tM(f,t,d,e)))}}})),d.paused&&await new Promise(e=>{d.resumeQueue.add(e)});let m=tS(e,await Promise.all(p));if(a&&m.finished&&!(n&&m.noop)){let n=t$(t,a,i);if(n)return t8(e,[n]),t1(e,n,!0)}return l&&c.batchedUpdates(()=>l(m,e,e.item)),m}function t2(e,t){let n={...e.springs};return t&&R(z(t),e=>{T.und(e.keys)&&(e=tB(e)),T.obj(e.to)||(e={...e,to:void 0}),t9(n,e,e=>t5(e))}),t3(e,n),n}function t3(e,t){L(t,(t,n)=>{e.springs[n]||(e.springs[n]=t,eS(t,e))})}function t5(e,t){let n=new tY;return n.key=e,t&&eS(n,t),n}function t9(e,t,n){t.keys&&R(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function t8(e,t){R(t,t=>{t9(e.springs,t,t=>t5(t,e))})}var t6=C.createContext({pause:!1,immediate:!1}),t4=()=>{let e=[],t=function(t){eV(`${eN}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let r=[];return R(e,(e,i)=>{if(T.und(t))r.push(e.start());else{let o=n(t,e,i);o&&r.push(e.start(o))}}),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){let n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return R(e,e=>e.pause(...arguments)),this},t.resume=function(){return R(e,e=>e.resume(...arguments)),this},t.set=function(t){R(e,(e,n)=>{let r=T.fun(t)?t(n,e):t;r&&e.set(r)})},t.start=function(t){let n=[];return R(e,(e,r)=>{if(T.und(t))n.push(e.start());else{let i=this._getProps(t,e,r);i&&n.push(e.start(i))}}),n},t.stop=function(){return R(e,e=>e.stop(...arguments)),this},t.update=function(t){return R(e,(e,n)=>e.update(this._getProps(t,e,n))),this};let n=function(e,t,n){return T.fun(e)?e(n,t):e};return t._getProps=n,t};function t7(e,t){let n=T.fun(e),[[r],i]=function(e,t,n){let r=T.fun(t)&&t;r&&!n&&(n=[]);let i=(0,C.useMemo)(()=>r||3==arguments.length?t4():void 0,[]),o=(0,C.useRef)(0),a=eG(),s=(0,C.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){let n=t2(e,t);return!(o.current>0)||s.queue.length||Object.keys(n).some(t=>!e.springs[t])?new Promise(r=>{t3(e,n),s.queue.push(()=>{r(t0(e,t))}),a()}):t0(e,t)}}),[]),l=(0,C.useRef)([...s.ctrls]),u=(0,C.useRef)([]),c=e1(e)||0;function f(e,n){for(let i=e;i<n;i++){let e=l.current[i]||(l.current[i]=new tJ(null,s.flush)),n=r?r(i,e):t[i];n&&(u.current[i]=function(e){let t=tB(e);return T.und(t.default)&&(t.default=th(t)),t}(n))}}(0,C.useMemo)(()=>{R(l.current.slice(e,c),e=>{var t,n;t=e,n=i,t.ref?.delete(t),n?.delete(t),e.stop(!0)}),l.current.length=e,f(c,e)},[e]),(0,C.useMemo)(()=>{f(0,Math.min(c,e))},n);let d=l.current.map((e,t)=>t2(e,u.current[t])),p=(0,C.useContext)(t6),h=e1(p),m=p!==h&&function(e){for(let t in e)return!0;return!1}(p);eQ(()=>{o.current++,s.ctrls=l.current;let{queue:e}=s;e.length&&(s.queue=[],R(e,e=>e())),R(l.current,(e,t)=>{var n,r;i?.add(e),m&&e.start({default:p});let o=u.current[t];o&&(n=e,(r=o.ref)&&n.ref!==r&&(n.ref?.delete(n),r.add(n),n.ref=r),e.ref?e.queue.push(o):e.start(o))})}),eJ(()=>()=>{R(s.ctrls,e=>e.stop(!0))});let v=d.map(e=>({...e}));return i?[v,i]:v}(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,i]:r}var ne=class extends tz{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=eb(...t);let n=this._get();e9(this,ti(n).create(n))}advance(e){let t=this._get();I(t,this.get())||(e5(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&nn(this._active)&&nr(this)}_get(){let e=T.arr(this.source)?this.source.map(ex):z(ex(this.source));return this.calc(...e)}_start(){this.idle&&!nn(this._active)&&(this.idle=!1,R(e8(this),e=>{e.done=!1}),k.skipAnimation?(c.batchedUpdates(()=>this.advance()),nr(this)):X.start(this))}_attach(){let e=1;R(z(this.source),t=>{ew(t)&&eS(t,this),tR(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){R(z(this.source),e=>{ew(e)&&eC(e,this)}),this._active.clear(),nr(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=z(this.source).reduce((e,t)=>Math.max(e,(tR(t)?t.priority:0)+1),0))}};function nt(e){return!1!==e.idle}function nn(e){return!e.size||Array.from(e).every(nt)}function nr(e){e.idle||(e.idle=!0,R(e8(e),e=>{e.done=!0}),e_(e,{type:"idle",parent:e}))}k.assign({createStringInterpolator:eD,to:(e,t)=>new ne(e,t)}),X.advance;var ni=["primitive"].concat(Object.keys(n(6027)).filter(e=>/^[A-Z]/.test(e)).map(e=>e[0].toLowerCase()+e.slice(1)));k.assign({createStringInterpolator:eD,colors:{transparent:0,aliceblue:0xf0f8ffff,antiquewhite:0xfaebd7ff,aqua:0xffffff,aquamarine:0x7fffd4ff,azure:0xf0ffffff,beige:0xf5f5dcff,bisque:0xffe4c4ff,black:255,blanchedalmond:0xffebcdff,blue:65535,blueviolet:0x8a2be2ff,brown:0xa52a2aff,burlywood:0xdeb887ff,burntsienna:0xea7e5dff,cadetblue:0x5f9ea0ff,chartreuse:0x7fff00ff,chocolate:0xd2691eff,coral:0xff7f50ff,cornflowerblue:0x6495edff,cornsilk:0xfff8dcff,crimson:0xdc143cff,cyan:0xffffff,darkblue:35839,darkcyan:9145343,darkgoldenrod:0xb8860bff,darkgray:0xa9a9a9ff,darkgreen:6553855,darkgrey:0xa9a9a9ff,darkkhaki:0xbdb76bff,darkmagenta:0x8b008bff,darkolivegreen:0x556b2fff,darkorange:0xff8c00ff,darkorchid:0x9932ccff,darkred:0x8b0000ff,darksalmon:0xe9967aff,darkseagreen:0x8fbc8fff,darkslateblue:0x483d8bff,darkslategray:0x2f4f4fff,darkslategrey:0x2f4f4fff,darkturquoise:0xced1ff,darkviolet:0x9400d3ff,deeppink:0xff1493ff,deepskyblue:0xbfffff,dimgray:0x696969ff,dimgrey:0x696969ff,dodgerblue:0x1e90ffff,firebrick:0xb22222ff,floralwhite:0xfffaf0ff,forestgreen:0x228b22ff,fuchsia:0xff00ffff,gainsboro:0xdcdcdcff,ghostwhite:0xf8f8ffff,gold:0xffd700ff,goldenrod:0xdaa520ff,gray:0x808080ff,green:8388863,greenyellow:0xadff2fff,grey:0x808080ff,honeydew:0xf0fff0ff,hotpink:0xff69b4ff,indianred:0xcd5c5cff,indigo:0x4b0082ff,ivory:0xfffff0ff,khaki:0xf0e68cff,lavender:0xe6e6faff,lavenderblush:0xfff0f5ff,lawngreen:0x7cfc00ff,lemonchiffon:0xfffacdff,lightblue:0xadd8e6ff,lightcoral:0xf08080ff,lightcyan:0xe0ffffff,lightgoldenrodyellow:0xfafad2ff,lightgray:0xd3d3d3ff,lightgreen:0x90ee90ff,lightgrey:0xd3d3d3ff,lightpink:0xffb6c1ff,lightsalmon:0xffa07aff,lightseagreen:0x20b2aaff,lightskyblue:0x87cefaff,lightslategray:0x778899ff,lightslategrey:0x778899ff,lightsteelblue:0xb0c4deff,lightyellow:0xffffe0ff,lime:0xff00ff,limegreen:0x32cd32ff,linen:0xfaf0e6ff,magenta:0xff00ffff,maroon:0x800000ff,mediumaquamarine:0x66cdaaff,mediumblue:52735,mediumorchid:0xba55d3ff,mediumpurple:0x9370dbff,mediumseagreen:0x3cb371ff,mediumslateblue:0x7b68eeff,mediumspringgreen:0xfa9aff,mediumturquoise:0x48d1ccff,mediumvioletred:0xc71585ff,midnightblue:0x191970ff,mintcream:0xf5fffaff,mistyrose:0xffe4e1ff,moccasin:0xffe4b5ff,navajowhite:0xffdeadff,navy:33023,oldlace:0xfdf5e6ff,olive:0x808000ff,olivedrab:0x6b8e23ff,orange:0xffa500ff,orangered:0xff4500ff,orchid:0xda70d6ff,palegoldenrod:0xeee8aaff,palegreen:0x98fb98ff,paleturquoise:0xafeeeeff,palevioletred:0xdb7093ff,papayawhip:0xffefd5ff,peachpuff:0xffdab9ff,peru:0xcd853fff,pink:0xffc0cbff,plum:0xdda0ddff,powderblue:0xb0e0e6ff,purple:0x800080ff,rebeccapurple:0x663399ff,red:0xff0000ff,rosybrown:0xbc8f8fff,royalblue:0x4169e1ff,saddlebrown:0x8b4513ff,salmon:0xfa8072ff,sandybrown:0xf4a460ff,seagreen:0x2e8b57ff,seashell:0xfff5eeff,sienna:0xa0522dff,silver:0xc0c0c0ff,skyblue:0x87ceebff,slateblue:0x6a5acdff,slategray:0x708090ff,slategrey:0x708090ff,snow:0xfffafaff,springgreen:0xff7fff,steelblue:0x4682b4ff,tan:0xd2b48cff,teal:8421631,thistle:0xd8bfd8ff,tomato:0xff6347ff,turquoise:0x40e0d0ff,violet:0xee82eeff,wheat:0xf5deb3ff,white:0xffffffff,whitesmoke:0xf5f5f5ff,yellow:0xffff00ff,yellowgreen:0x9acd32ff},frameLoop:"demand"}),(0,l.j)(()=>{c.advance()});var no=((e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=e=>new tt(e),getComponentProps:r=e=>e}={})=>{let i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=e=>{let t=tl(e)||"Anonymous";return(e=T.str(e)?o[e]||(o[e]=to(e,i)):e[ts]||(e[ts]=to(e,i))).displayName=`Animated(${t})`,e};return L(e,(t,n)=>{T.arr(e)&&(n=tl(t)),o[n]=o(t)}),{animated:o}})(ni,{applyAnimatedValues:l.q}).animated},7900:(e,t,n)=>{var r=n(2847),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s(function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})},[e,n,t]),a(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},7995:(e,t,n)=>{function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.d(t,{N:()=>y});var i=n(6334),o=n(2847),a=n(7028),s=Object.defineProperty,l=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t,n)=>(l(e,"symbol"!=typeof t?t+"":t,n),n);class c{constructor(){u(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let n=this._listeners[e];if(void 0!==n){let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}var f=Object.defineProperty,d=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t,n)=>(d(e,"symbol"!=typeof t?t+"":t,n),n);let h=new a.RlV,m=new a.Zcv,v=Math.cos(Math.PI/180*70),b=(e,t)=>(e%t+t)%t;class g extends c{constructor(e,t){super(),p(this,"object"),p(this,"domElement"),p(this,"enabled",!0),p(this,"target",new a.Pq0),p(this,"minDistance",0),p(this,"maxDistance",1/0),p(this,"minZoom",0),p(this,"maxZoom",1/0),p(this,"minPolarAngle",0),p(this,"maxPolarAngle",Math.PI),p(this,"minAzimuthAngle",-1/0),p(this,"maxAzimuthAngle",1/0),p(this,"enableDamping",!1),p(this,"dampingFactor",.05),p(this,"enableZoom",!0),p(this,"zoomSpeed",1),p(this,"enableRotate",!0),p(this,"rotateSpeed",1),p(this,"enablePan",!0),p(this,"panSpeed",1),p(this,"screenSpacePanning",!0),p(this,"keyPanSpeed",7),p(this,"zoomToCursor",!1),p(this,"autoRotate",!1),p(this,"autoRotateSpeed",2),p(this,"reverseOrbit",!1),p(this,"reverseHorizontalOrbit",!1),p(this,"reverseVerticalOrbit",!1),p(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),p(this,"mouseButtons",{LEFT:a.kBv.ROTATE,MIDDLE:a.kBv.DOLLY,RIGHT:a.kBv.PAN}),p(this,"touches",{ONE:a.wtR.ROTATE,TWO:a.wtR.DOLLY_PAN}),p(this,"target0"),p(this,"position0"),p(this,"zoom0"),p(this,"_domElementKeyEvents",null),p(this,"getPolarAngle"),p(this,"getAzimuthalAngle"),p(this,"setPolarAngle"),p(this,"setAzimuthalAngle"),p(this,"getDistance"),p(this,"getZoomScale"),p(this,"listenToKeyEvents"),p(this,"stopListenToKeyEvents"),p(this,"saveState"),p(this,"reset"),p(this,"update"),p(this,"connect"),p(this,"dispose"),p(this,"dollyIn"),p(this,"dollyOut"),p(this,"getScale"),p(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=e=>{let t=b(e,2*Math.PI),r=c.phi;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),f.phi=t-r,n.update()},this.setAzimuthalAngle=e=>{let t=b(e,2*Math.PI),r=c.theta;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),f.theta=t-r,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",ee),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ee),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),l=s.NONE},this.update=(()=>{let t=new a.Pq0,i=new a.Pq0(0,1,0),o=new a.PTz().setFromUnitVectors(e.up,i),p=o.clone().invert(),b=new a.Pq0,y=new a.PTz,w=2*Math.PI;return function(){let x=n.object.position;o.setFromUnitVectors(e.up,i),p.copy(o).invert(),t.copy(x).sub(n.target),t.applyQuaternion(o),c.setFromVector3(t),n.autoRotate&&l===s.NONE&&R(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(c.theta+=f.theta*n.dampingFactor,c.phi+=f.phi*n.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let j=n.minAzimuthAngle,_=n.maxAzimuthAngle;isFinite(j)&&isFinite(_)&&(j<-Math.PI?j+=w:j>Math.PI&&(j-=w),_<-Math.PI?_+=w:_>Math.PI&&(_-=w),j<=_?c.theta=Math.max(j,Math.min(_,c.theta)):c.theta=c.theta>(j+_)/2?Math.max(j,c.theta):Math.min(_,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(g,n.dampingFactor):n.target.add(g),n.zoomToCursor&&M||n.object.isOrthographicCamera?c.radius=V(c.radius):c.radius=V(c.radius*d),t.setFromSpherical(c),t.applyQuaternion(p),x.copy(n.target).add(t),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,g.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),g.set(0,0,0));let E=!1;if(n.zoomToCursor&&M){let r=null;if(n.object instanceof a.ubm&&n.object.isPerspectiveCamera){let e=t.length();r=V(e*d);let i=e-r;n.object.position.addScaledVector(O,i),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){let e=new a.Pq0(k.x,k.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix(),E=!0;let i=new a.Pq0(k.x,k.y,0);i.unproject(n.object),n.object.position.sub(i).add(e),n.object.updateMatrixWorld(),r=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==r&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(r).add(n.object.position):(h.origin.copy(n.object.position),h.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(h.direction))<v?e.lookAt(n.target):(m.setFromNormalAndCoplanarPoint(n.object.up,n.target),h.intersectPlane(m,n.target))))}else n.object instanceof a.qUd&&n.object.isOrthographicCamera&&(E=1!==d)&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix());return d=1,M=!1,!!(E||b.distanceToSquared(n.object.position)>u||8*(1-y.dot(n.object.quaternion))>u)&&(n.dispatchEvent(r),b.copy(n.object.position),y.copy(n.object.quaternion),E=!1,!0)}})(),this.connect=e=>{n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",et),n.domElement.addEventListener("pointerdown",Q),n.domElement.addEventListener("pointercancel",G),n.domElement.addEventListener("wheel",J)},this.dispose=()=>{var e,t,r,i,o,a;n.domElement&&(n.domElement.style.touchAction="auto"),null==(e=n.domElement)||e.removeEventListener("contextmenu",et),null==(t=n.domElement)||t.removeEventListener("pointerdown",Q),null==(r=n.domElement)||r.removeEventListener("pointercancel",G),null==(i=n.domElement)||i.removeEventListener("wheel",J),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointermove",K),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointerup",G),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",ee)};let n=this,r={type:"change"},i={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l=s.NONE,u=1e-6,c=new a.YHV,f=new a.YHV,d=1,g=new a.Pq0,y=new a.I9Y,w=new a.I9Y,x=new a.I9Y,j=new a.I9Y,_=new a.I9Y,E=new a.I9Y,P=new a.I9Y,S=new a.I9Y,C=new a.I9Y,O=new a.Pq0,k=new a.I9Y,M=!1,A=[],T={};function I(){return Math.pow(.95,n.zoomSpeed)}function R(e){n.reverseOrbit||n.reverseHorizontalOrbit?f.theta+=e:f.theta-=e}function L(e){n.reverseOrbit||n.reverseVerticalOrbit?f.phi+=e:f.phi-=e}let z=(()=>{let e=new a.Pq0;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),g.add(e)}})(),D=(()=>{let e=new a.Pq0;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),g.add(e)}})(),N=(()=>{let e=new a.Pq0;return function(t,r){let i=n.domElement;if(i&&n.object instanceof a.ubm&&n.object.isPerspectiveCamera){let o=n.object.position;e.copy(o).sub(n.target);let a=e.length();z(2*t*(a*=Math.tan(n.object.fov/2*Math.PI/180))/i.clientHeight,n.object.matrix),D(2*r*a/i.clientHeight,n.object.matrix)}else i&&n.object instanceof a.qUd&&n.object.isOrthographicCamera?(z(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),D(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function q(e){n.object instanceof a.ubm&&n.object.isPerspectiveCamera||n.object instanceof a.qUd&&n.object.isOrthographicCamera?d=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function F(e){if(!n.zoomToCursor||!n.domElement)return;M=!0;let t=n.domElement.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top,o=t.width,a=t.height;k.x=r/o*2-1,k.y=-(i/a*2)+1,O.set(k.x,k.y,1).unproject(n.object).sub(n.object.position).normalize()}function V(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function H(e){y.set(e.clientX,e.clientY)}function Y(e){j.set(e.clientX,e.clientY)}function U(){if(1==A.length)y.set(A[0].pageX,A[0].pageY);else{let e=.5*(A[0].pageX+A[1].pageX),t=.5*(A[0].pageY+A[1].pageY);y.set(e,t)}}function $(){if(1==A.length)j.set(A[0].pageX,A[0].pageY);else{let e=.5*(A[0].pageX+A[1].pageX),t=.5*(A[0].pageY+A[1].pageY);j.set(e,t)}}function B(){let e=A[0].pageX-A[1].pageX,t=A[0].pageY-A[1].pageY,n=Math.sqrt(e*e+t*t);P.set(0,n)}function Z(e){if(1==A.length)w.set(e.pageX,e.pageY);else{let t=er(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);w.set(n,r)}x.subVectors(w,y).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(R(2*Math.PI*x.x/t.clientHeight),L(2*Math.PI*x.y/t.clientHeight)),y.copy(w)}function X(e){if(1==A.length)_.set(e.pageX,e.pageY);else{let t=er(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);_.set(n,r)}E.subVectors(_,j).multiplyScalar(n.panSpeed),N(E.x,E.y),j.copy(_)}function W(e){var t;let r=er(e),i=e.pageX-r.x,o=e.pageY-r.y,a=Math.sqrt(i*i+o*o);S.set(0,a),C.set(0,Math.pow(S.y/P.y,n.zoomSpeed)),t=C.y,q(d/t),P.copy(S)}function Q(e){var t,r,o;!1!==n.enabled&&(0===A.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",K),null==(r=n.domElement)||r.ownerDocument.addEventListener("pointerup",G)),o=e,A.push(o),"touch"===e.pointerType?function(e){switch(en(e),A.length){case 1:switch(n.touches.ONE){case a.wtR.ROTATE:if(!1===n.enableRotate)return;U(),l=s.TOUCH_ROTATE;break;case a.wtR.PAN:if(!1===n.enablePan)return;$(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(n.touches.TWO){case a.wtR.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&B(),n.enablePan&&$(),l=s.TOUCH_DOLLY_PAN;break;case a.wtR.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&B(),n.enableRotate&&U(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&n.dispatchEvent(i)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case a.kBv.DOLLY:if(!1===n.enableZoom)return;F(e),P.set(e.clientX,e.clientY),l=s.DOLLY;break;case a.kBv.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;Y(e),l=s.PAN}else{if(!1===n.enableRotate)return;H(e),l=s.ROTATE}break;case a.kBv.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;H(e),l=s.ROTATE}else{if(!1===n.enablePan)return;Y(e),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&n.dispatchEvent(i)}(e))}function K(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(en(e),l){case s.TOUCH_ROTATE:if(!1===n.enableRotate)return;Z(e),n.update();break;case s.TOUCH_PAN:if(!1===n.enablePan)return;X(e),n.update();break;case s.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&W(e),n.enablePan&&X(e),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&W(e),n.enableRotate&&Z(e),n.update();break;default:l=s.NONE}}(e):function(e){if(!1!==n.enabled)switch(l){case s.ROTATE:if(!1===n.enableRotate)return;w.set(e.clientX,e.clientY),x.subVectors(w,y).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(R(2*Math.PI*x.x/t.clientHeight),L(2*Math.PI*x.y/t.clientHeight)),y.copy(w),n.update();break;case s.DOLLY:var r,i;if(!1===n.enableZoom)return;(S.set(e.clientX,e.clientY),C.subVectors(S,P),C.y>0)?(r=I(),q(d/r)):C.y<0&&(i=I(),q(d*i)),P.copy(S),n.update();break;case s.PAN:if(!1===n.enablePan)return;_.set(e.clientX,e.clientY),E.subVectors(_,j).multiplyScalar(n.panSpeed),N(E.x,E.y),j.copy(_),n.update()}}(e))}function G(e){var t,r,i;(function(e){delete T[e.pointerId];for(let t=0;t<A.length;t++)if(A[t].pointerId==e.pointerId)return void A.splice(t,1)})(e),0===A.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",K),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",G)),n.dispatchEvent(o),l=s.NONE}function J(e){if(!1!==n.enabled&&!1!==n.enableZoom&&(l===s.NONE||l===s.ROTATE)){var t,r;e.preventDefault(),n.dispatchEvent(i),(F(e),e.deltaY<0)?(t=I(),q(d*t)):e.deltaY>0&&(r=I(),q(d/r)),n.update(),n.dispatchEvent(o)}}function ee(e){if(!1!==n.enabled&&!1!==n.enablePan){let t=!1;switch(e.code){case n.keys.UP:N(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:N(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:N(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:N(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}}function et(e){!1!==n.enabled&&e.preventDefault()}function en(e){let t=T[e.pointerId];void 0===t&&(t=new a.I9Y,T[e.pointerId]=t),t.set(e.pageX,e.pageY)}function er(e){return T[(e.pointerId===A[0].pointerId?A[1]:A[0]).pointerId]}this.dollyIn=(e=I())=>{q(d*e),n.update()},this.dollyOut=(e=I())=>{q(d/e),n.update()},this.getScale=()=>d,this.setScale=e=>{q(e),n.update()},this.getZoomScale=()=>I(),void 0!==t&&this.connect(t),this.update()}}let y=o.forwardRef(({makeDefault:e,camera:t,regress:n,domElement:a,enableDamping:s=!0,keyEvents:l=!1,onChange:u,onStart:c,onEnd:f,...d},p)=>{let h=(0,i.A)(e=>e.invalidate),m=(0,i.A)(e=>e.camera),v=(0,i.A)(e=>e.gl),b=(0,i.A)(e=>e.events),y=(0,i.A)(e=>e.setEvents),w=(0,i.A)(e=>e.set),x=(0,i.A)(e=>e.get),j=(0,i.A)(e=>e.performance),_=t||m,E=a||b.connected||v.domElement,P=o.useMemo(()=>new g(_),[_]);return(0,i.C)(()=>{P.enabled&&P.update()},-1),o.useEffect(()=>(l&&P.connect(!0===l?E:l),P.connect(E),()=>void P.dispose()),[l,E,n,P,h]),o.useEffect(()=>{let e=e=>{h(),n&&j.regress(),u&&u(e)},t=e=>{c&&c(e)},r=e=>{f&&f(e)};return P.addEventListener("change",e),P.addEventListener("start",t),P.addEventListener("end",r),()=>{P.removeEventListener("start",t),P.removeEventListener("end",r),P.removeEventListener("change",e)}},[u,c,f,P,h,y]),o.useEffect(()=>{if(e){let e=x().controls;return w({controls:P}),()=>w({controls:e})}},[e,P]),o.createElement("primitive",r({ref:p,object:P,enableDamping:s},d))})},9907:(e,t,n)=>{e.exports=n(3451)}}]);